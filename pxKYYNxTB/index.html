<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    LeetCode-440. 字典序的第K小数字 | 半亩房顶
</title>
<link rel="shortcut icon" href="https://freephenix.github.io//favicon.ico?v=1713840769430">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://freephenix.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://freephenix.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-147240912-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-147240912-1');
    </script>
    
        
            
                <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
                <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
                

                    
                            
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://freephenix.github.io/">
                <img class="avatar" src="https://freephenix.github.io//images/avatar.png?v=1713840769430" alt="">
            </a>
            <div class="site-title">
                <h1>
                    半亩房顶
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="https://freephenix.github.io//post/guan-yu-ban-mu-fang-ding/" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            LeetCode-440. 字典序的第K小数字
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2024-03-08</time>
                            
                                <a href="https://freephenix.github.io/xXmoc4m-W/" class="post-tag i-tag
                            i-tag-other_2">
                            #十叉树
                        </a>
                                
                                <a href="https://freephenix.github.io/YWFpnf3Gl/" class="post-tag i-tag
                            i-tag-info">
                            #刷题
                        </a>
                                
                                <a href="https://freephenix.github.io/70TrDOWqgi/" class="post-tag i-tag
                            i-tag-">
                            #面试
                        </a>
                                
                                <a href="https://freephenix.github.io/go/" class="post-tag i-tag
                            i-tag-primary">
                            #Go
                        </a>
                                
                                <a href="https://freephenix.github.io/k1NaSbOoC/" class="post-tag i-tag
                            i-tag-warning">
                            #LeetCode
                        </a>
                                
                                <a href="https://freephenix.github.io/WucazjDbn/" class="post-tag i-tag
                            i-tag-warning">
                            #算法
                        </a>
                                
                        </div>
                        
                            <div class="post-feature-image" style="background-image: url('https://freephenix.github.io//post-images/pxKYYNxTB.jpeg')"></div>
                            
                                <div class="post-content">
                                    <p>刷题使我快乐，满脸开心.jpg</p>
<ul>
<li>来源：力扣（LeetCode）</li>
<li>链接：https://leetcode.cn/problems/k-th-smallest-in-lexicographical-order/</li>
<li>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</li>
</ul>
<!-- more -->
<h1 id="题目">题目</h1>
<p>给定整数 <code>n</code> 和 <code>k</code>，返回  <code>[1, n]</code> 中字典序第 <code>k</code> 小的数字。</p>
<p>示例 1:</p>
<pre><code>输入: n = 13, k = 2
输出: 10
解释: 字典序的排列是 [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]，所以第二小的数字是 10。
</code></pre>
<p>示例 2:</p>
<pre><code>输入: n = 1, k = 1
输出: 1
</code></pre>
<p>提示:</p>
<ul>
<li><code>1 &lt;= k &lt;= n &lt;= 10^9</code></li>
</ul>
<h1 id="思路">思路</h1>
<p>首先得说明下，这道题是道困难题，但别急的划走，<code>字节</code>常考！！！（虽然好像是校招常考）</p>
<h3 id="思路提示">思路提示</h3>
<p>如果你选择了继续留下来看完，那请先看下思路提示，自行写写画画再往下看</p>
<ul>
<li>字典序可以类比十叉树</li>
<li>字典序就是十叉树的前序遍历</li>
<li>字典序中的第<code>K</code>个数字也就是前序遍历的第<code>K</code>个数字</li>
</ul>
<h3 id="思路拆解">思路拆解</h3>
<figure data-type="image" tabindex="1"><img src="https://freephenix.github.io//post-images/1709888736226.png" alt="" loading="lazy"></figure>
<h5 id="以十叉树类比数字开头的集合">以十叉树类比数字开头的集合</h5>
<ul>
<li>其实我们很容易想到先判断 <code>1</code> 开头集合个数是否大于 <code>n</code>，然后 <code>2</code> 开头、<code>3</code> 开头等等。其实这就类比一个个的十叉树，<code>1</code> 开头的树中，所有节点个数也就是 <code>1</code> 开头集合元素个数</li>
<li>确定集合后，继续深入划分一个个小集合，比如 <code>1</code> 开头集合中分为
<ul>
<li>没有后续节点的集合 <code>1</code> 本身</li>
<li><code>10</code> 开头的集合</li>
<li><code>11</code> 开头的集合 等等</li>
</ul>
</li>
</ul>
<h5 id="基于上面的思路我们会产生一个问题如何把切换集合转变到代码">基于上面的思路我们会产生一个问题，如何把切换集合转变到代码？</h5>
<p><strong>可以类比到十叉树去理解：</strong></p>
<ul>
<li>比如当前集合不存在结果，我们需要到下一个集合寻找，那么其实就是从当前的二叉树<code>右移到下一个节点</code>，也就是 <code>数值 + 1</code></li>
<li>比如当前集合存在结果，那我们需要深入到小集合里寻找，那么除了父节点本身的情况，其实就是从<code>父节点</code>到<code>第一个子节点</code>，也就是 <code>数值 * 10</code>（父节点本身的情况我们会在代码里详细说明～）</li>
</ul>
<h5 id="说完了根据树节点集合数量判断移动方法还有另外一个问题如何求树节点集合数量">说完了根据树节点（集合）数量判断移动方法，还有另外一个问题，如何求树节点（集合）数量？</h5>
<p><strong>这里类比到十叉树会比较清晰（参考 <code>k=10</code>节点 ）：</strong></p>
<ul>
<li>第一层为父节点本身，个数为 <code>1</code> （即节点<code>k=11</code>的值减去<code>k=10</code>节点的值）</li>
<li>第二层为子节点，个数为 <code>10</code>  （右边节点<code>k=11</code>的第一个子节点<code>k=110</code>的值减去<code>k=10</code>节点第一个子节点<code>k=100</code>的值）</li>
<li>以此类推，从图上很直观的就能看出来节点个数与节点代表的数值的关系，这样也就很容易转换为代码</li>
</ul>
<p>大体思路就是这样了，那么下面请移步代码，结合注释和十叉树的图，继续深入看实现</p>
<blockquote>
<p>PS，暴力排序的路子，据说被用例堵死了<br>
不过真实面试时候可别太较真，想不起来最优解时，先写一个能解决问题的更重要</p>
</blockquote>
<h1 id="代码">代码</h1>
<pre><code class="language-golang">func findKthNumber(n int, k int) int {
	// 请结合十叉树的图来看代码！！！
	// 请结合十叉树的图来看代码！！！
	// 请结合十叉树的图来看代码！！！

	// 求解以prefix为根结点的树的所有节点元素（集合）个数，别忘了有 n 的限制
	var getCount = func(prefix int) int {
		count := 0
		// 这里 root 为根结点含义，可以结合十叉树的图看
		// 从根结点这层开始，每次循环都是求下一层节点个数
		root := prefix
		nextRoot := root + 1
		for root &lt;= n {
			// 正常 当前层元素个数 nextRoot - root
			// 但是 nextRoot&gt;n 时，此层元素并不满，只能计算部分元素
			count += min(n+1, nextRoot) - root
			root *= 10
			nextRoot *= 10
		}
		return count
	}

	// 从 1 开头的集合开始处理
	prefix := 1
	// 放个变量让循环循环使用
	count := 0
	for k &gt; 1 {
		// 求 prefix 为根的树元素（集合）的个数
		count = getCount(prefix)
		// k&gt;=count 表明目标不在这个子树（集合）中，需要跳到下一个子树（集合），如 1=&gt;2（11=&gt;12）
		// k==count+1时, 执行完 k-=count 会不满足循环
		// 此时代表着结果是 下一个子树（集合）的第一个元素，也就是 2（或者12）
		// 所以继续执行 prefix++ 没毛病
		if k &gt; count {
			k -= count
			prefix++
		} else if k &lt;= count {
			// k&lt;count 表明结果就在这个子树（集合）中，需要深入下一层分析，如 1=&gt;10（11=&gt;110）
			// k==2 时, ,执行完 k-- 会不满足循环
			// 代表此时结果就是 当前未处理的 prefix 子树元素（集合）中第二个元素，也就是 10（110）
			k--
			prefix *= 10
		}
	}
	return prefix
}
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                        <div class="next-post">
                            <div class="next">下一篇</div>
                            <a href="https://freephenix.github.io/000L8G_W6/">
                                <h3 class="post-title">
                                    LeetCode-75. 颜色分类
                                </h3>
                            </a>
                        </div>
                        
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li><a href="#%E9%A2%98%E7%9B%AE">题目</a></li>
<li><a href="#%E6%80%9D%E8%B7%AF">思路</a><br>
*
<ul>
<li><a href="#%E6%80%9D%E8%B7%AF%E6%8F%90%E7%A4%BA">思路提示</a></li>
<li><a href="#%E6%80%9D%E8%B7%AF%E6%8B%86%E8%A7%A3">思路拆解</a><br>
*
<ul>
<li><a href="#%E4%BB%A5%E5%8D%81%E5%8F%89%E6%A0%91%E7%B1%BB%E6%AF%94%E6%95%B0%E5%AD%97%E5%BC%80%E5%A4%B4%E7%9A%84%E9%9B%86%E5%90%88">以十叉树类比数字开头的集合</a></li>
<li><a href="#%E5%9F%BA%E4%BA%8E%E4%B8%8A%E9%9D%A2%E7%9A%84%E6%80%9D%E8%B7%AF%E6%88%91%E4%BB%AC%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98%E5%A6%82%E4%BD%95%E6%8A%8A%E5%88%87%E6%8D%A2%E9%9B%86%E5%90%88%E8%BD%AC%E5%8F%98%E5%88%B0%E4%BB%A3%E7%A0%81">基于上面的思路我们会产生一个问题，如何把切换集合转变到代码？</a></li>
<li><a href="#%E8%AF%B4%E5%AE%8C%E4%BA%86%E6%A0%B9%E6%8D%AE%E6%A0%91%E8%8A%82%E7%82%B9%E9%9B%86%E5%90%88%E6%95%B0%E9%87%8F%E5%88%A4%E6%96%AD%E7%A7%BB%E5%8A%A8%E6%96%B9%E6%B3%95%E8%BF%98%E6%9C%89%E5%8F%A6%E5%A4%96%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98%E5%A6%82%E4%BD%95%E6%B1%82%E6%A0%91%E8%8A%82%E7%82%B9%E9%9B%86%E5%90%88%E6%95%B0%E9%87%8F">说完了根据树节点（集合）数量判断移动方法，还有另外一个问题，如何求树节点（集合）数量？</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E4%BB%A3%E7%A0%81">代码</a></li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://freephenix.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
        
            <script>
    window.onload = function() {
        var gitalk = new Gitalk({
            clientID: '008503f8c8bca8787fbe',
            clientSecret: '5f789f71e3288ff1866d17523348881053068eb4',
            repo: 'freephenix.github.io',
            owner: 'freephenix',
            admin: ['freephenix'],
            id: (location.pathname).substring(0, 49), // Ensure uniqueness and length less than 50
            distractionFreeMode: false // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    }
</script>
                

                    
                                
</body>

</html>